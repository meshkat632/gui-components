<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <!--
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    -->

    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>


    <script src="http://meshkat632.github.io/gui-components/ect-choose-file-button/ect-choose-file-button.js"></script>
    <script src="ect-chat.js"></script>


        <script>
        angular.module('myApp',['ect.directives.ectChooseFileButton','ect.directives.ectChat']).controller('chatViewController', ['$scope', '$interval','$window','$timeout', function ($scope, $interval, $window,$timeout) {

            $scope.messages = [
                { from:'Alice', msg:{ type:'CHAT', text:'hello from Alice'}},
                { from:'Bob', msg:{ type:'CHAT', text:'hello Alice how are you?'}},
                { from:'Bob', msg:{ type:'CHAT', text:'Are you free'}},
                { from:'Bob', msg:{ type:'FILE', filetransfer: {}}},
            ];

            $scope.sendMessage = function(message){
                console.log('page sendMessage', message)
                $scope.messages.push(message);
            };

        }]);

    </script>
</head>
<body >
<!--<ect-file-sender></ect-file-sender>-->
<div ng-app='myApp' ng-controller="chatViewController">
    <ect-chat messages="messages" on-send-message="sendMessage(message)"></ect-chat>
    <!--
    <ect-choose-file-button on-select="fileSelected(files)" multiple>
        <button type="file" class="btn btn-sm">
            Browse
            <span class="glyphicon glyphicon-print"></span>
        </button>
    </ect-choose-file-button>
    <ect-choose-file-button on-select="fileSelected(files)" multiple>
        <button type="file" class="btn btn-sm">
            <span class="glyphicon glyphicon-print"></span>
        </button>
    </ect-choose-file-button>
    <ect-choose-file-button on-select="fileSelected(files)" multiple>
        Browse
        <span class="glyphicon glyphicon-print"></span>
    </ect-choose-file-button>
    -->
</div>
</body>
</html>
