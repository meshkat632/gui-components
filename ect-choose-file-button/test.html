<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <!--
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    -->

    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>


    <script>
        window.templateUrlMapper = {};
    </script>
    <script src="ect-choose-file-button.js"></script>


        <script>
        var myApp = angular.module('myApp',['ect.directives.ectChooseFileButton']);
        myApp.run(function($templateCache) {
            //$templateCache.put('templateId.html', 'This is the content of the template');
            //$templateCache.put('ect-choose-file-button.html', "./ect-choose-file-button.html");
        });
        myApp.controller('chatViewController', ['$scope', '$interval','$window','$timeout', function ($scope, $interval, $window,$timeout) {

            $scope.message ='hi';
            $scope.fileSelected = function(files){
                console.log('fileSelected files',files);
                files.forEach(function(jsfile){
                    console.log('jsfile', jsfile,jsfile.name, jsfile.size);
                });

            };

        }]);

    </script>
    <style>



        .btn-file {
            position: relative;
            overflow: hidden;
        }
        .btn-file input[type=file] {

            position: absolute;
            top: 0px;
            right: 0px;

            min-width: 100%;
            min-height: 100%;
            opacity: 0;
            outline: none;
            cursor: inherit;
            display: block;
        }


    </style>
</head>
<body >
<button type="file" class="btn btn-info btn-sm btn-file">Hello</button>

<!--<ect-file-sender></ect-file-sender>-->
<div ng-app='myApp' ng-controller="chatViewController">{{message}}


    <ect-choose-file-button on-select="fileSelected(files)" multiple>
        <button type="file" class="btn btn-sm">
            Browse
            <span class="glyphicon glyphicon-print"></span>
        </button>
    </ect-choose-file-button>
    <ect-choose-file-button on-select="fileSelected(files)" multiple>
        <button type="file" class="btn btn-sm">
            <span class="glyphicon glyphicon-print"></span>
        </button>
    </ect-choose-file-button>
    <ect-choose-file-button on-select="fileSelected(files)" multiple>
        Browse
        <span class="glyphicon glyphicon-print"></span>
    </ect-choose-file-button>
    <!--
    <ect-choose-file-button on-select="fileSelected(files)">
        Browse2
        <span class="glyphicon glyphicon-print"></span>
    </ect-choose-file-button>
    <ect-choose-file-button on-select="fileSelected(files)">
        <span class="glyphicon glyphicon-print"></span>
    </ect-choose-file-button>
    <ect-choose-file-button></ect-choose-file-button>
    <ect-choose-file-button>
        <span class="glyphicon glyphicon-print"></span>
    </ect-choose-file-button>
    -->

</div>
</body>
</html>
